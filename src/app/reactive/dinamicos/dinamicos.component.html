<h2>Templade: <small>DÃ­namicos</small></h2>
<hr>

<form  autocomplete="off" [formGroup]="miFormulario"  (ngSubmit)="guardar()" >
  <!--Nombre-->
  <div class="mb-3 row">
    <label class="col-sm-3 col-form-label">Nombre</label> 
    <div class="col-sm-9">
      <input 
      class="form-control"
      placeholder="Nombre de la persona"
      type="text" 
      formControlName="nombre"
      >
      <span  class="form-text text-danger"
	     *ngIf="validaCampo('nombre')"	
	>Este campo es obligatorio</span> 
    </div>
  </div> 
  <!--Fin Nombre-->
  <!--Agregar-->
  <div class="mb-3 row">
    <label class="col-sm-3 col-form-label">Agregar</label> 
    <div class="col-sm-9">
      <div class="input-group">
	<input 
	 class="form-control"
	 placeholder="Agregar juego favorito"
	 (keyup.enter)="agregarFavorito()"
	 [formControl]="nuevoFavorito"
	 >
	 <button class="btn btn-outline-primary" (click)="agregarFavorito()" type="button">
	   Agregar
	 </button>
      </div>
    </div>
  </div> 

  <!--Lista de juegos-->
  <div class="mb-3 row">
    <label class="col-sm-3 col-form-label">Favoritos</label> 
    <div class="col-sm-9" formArrayName="favoritos">
      
      <div class="input-group  mb-1" *ngFor="let favorito of favoritosArr.controls; let i = index" 
	>
	<input 
	   class="form-control"
	   type="text" 
	   [formControlName]="i"
	   >
	   <button type="button" 
	    class="btn btn-outline-danger"
	    (click)="eliminar(i)"
	    >
	    Eliminar 
	   </button>
      </div>

    </div>
  </div> 
  <!--Fin lista de juegos-->

  <!--Boton guardar-->
  <div class="row">
    <div class="col-sm-12">
      <button type="button"
	      class="btn btn-primary float-end"
  
	      (click)="guardar()"
	      >
	      Guardar
      </button> 
    </div>
  </div> 
</form>

<span>Valid</span>
<pre>{{miFormulario.valid }}</pre>

<span>Value</span>
<pre>{{miFormulario.value | json}}</pre>

<span>Agregar Juego</span>
<pre>{{nuevoFavorito.valid}}</pre>
<pre>{{nuevoFavorito.value}}</pre>

