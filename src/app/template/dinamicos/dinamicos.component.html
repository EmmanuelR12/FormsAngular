<h2>Templade: <small>DÃ­namicos</small></h2>
<hr>

<form (ngSubmit)="guardar()" autocomplete="off" #miFormulario="ngForm" >
  <!--Nombre-->
  <div class="mb-3 row">
    <label class="col-sm-3 col-form-label">Nombre</label> 
    <div class="col-sm-9">
      <input 
      class="form-control"
      placeholder="Nombre de la persona"
      type="text" 
      name="nombre" 
      required
      [ngModel]="persona.nombre"
      >
      <span *ngIf="miFormulario.controls['nombre']?.errors
	&& miFormulario.controls['nombre']?.touched
	" class="form-text text-danger">Este campo es obligatorio</span> 
    </div>
  </div> 
  <!--Fin Nombre-->
  <!--Agregar-->
  <div class="mb-3 row">
    <label class="col-sm-3 col-form-label">Agregar</label> 
    <div class="col-sm-9">
      <div class="input-group">
	<input 
	 class="form-control"
	 placeholder="Agregar juego favorito"
	 [(ngModel)]="nuevoJuego"
	 (keyup.enter)="agregar()"
	 name="nuevoJuego"
	 >
	 <button class="btn btn-outline-primary" (click)="agregar()" type="button">
	   Agregar
	 </button>
      </div>
    </div>
  </div> 

  <!--Lista de juegos-->
  <div class="mb-3 row">
    <label class="col-sm-3 col-form-label">Favoritos</label> 
    <div class="col-sm-9">
      
      <div class="input-group  mb-1" 
	*ngFor="let juego of persona.favoritos; let i = index">
	<input 
	   class="form-control"
	   type="text" 
	   [(ngModel)]="juego.nombre"
	   [name]="'favorito' + i"
	   required
	   >
	   <button type="button" 
	    class="btn btn-outline-danger"
	    (click)="elimianr(i)"
	    >
	    Eliminar 
	   </button>
      </div>

    </div>
  </div> 
  <!--Fin lista de juegos-->

  <!--Boton guardar-->
  <div class="row">
    <div class="col-sm-12">
      <button type="button"
	      class="btn btn-primary float-end"
	      (click)="guardar()"
	      [disabled]="miFormulario.invalid"
	      >
	      Guardar
      </button> 
    </div>
  </div> 
</form>

<span>Persona</span>
<pre>{{persona | json }}</pre>
